% !TeX program = lualatex 
% !TeX root = luaking.tex 
% !TeX encoding = UTF-8 
% !TeX spellcheck = cs_CZ
 %---------------------------------------------------------------------------------------------------
\graphicspath{{../src/MAI/img/}}
% file mai1ch04c.tex
%---------------------------------------------------------------------------------------------------
\setchaptertoc
\chapter{Kombinatorika}\label{mai:IchapIVc}
  \textbf{Kombinatorika} se od všech matematických disciplín, v několika směrech liší. Zatímco v
  geometrii má každá přímka nekonečnou délku a každý trojúhelník nekonečně mnoho bodů, zatímco v
  algebře některé rovnice i nerovnice mají nekonečně mnoho řešení a zatímco matematická analýza
  zkoumá limity posloupností a funkcí, roste-li příslušná proměnná do nekonečna, v kombinatorice se
  s nekonečnem nesetkáme. Kombinatorika je součástí \textbf{finitní matematiky}, která studuje
  konečné soubory (množiny a uspořádané \(k\)-tice, \(k\in \mathcal{N}\)). 
  
  Další odlišností je to, že často nemáme možnost ověřit si správnost výsledku, ke kterému jsme při
  řešení kombinatorické úlohy dospěli, a jsme odkázáni jen na svůj vlastní úsudek. Proto v
  kombinatorice v míře větší než jinde platí, že „cvičení dělá mistra“. 
  
  V této kapitole je probrána část kombinatoriky, která se zabývá vytvářením skupin z daných prvků a
  určováním jejich počtu. Jde o klasickou problematiku, která byla řešena již v 17. a 18. století a
  která je spojena se jmény \emph{B. Pascala}, \emph{P. Fermata}, \emph{J Bernoulliho}, \emph{G. W.
  Leibnize}  a \emph{L. Eulera}. Dnes představuje kombinatorika rozsáhlou matematickou disciplínu,
  některé její problémy byly již vyřešeny (problém čtyř barev) mnohé další na své vyřešení čekají. 
  
  A závěrem ještě důležitá poznámka terminologická: přirozenými čísly se v této kapitole rozumějí
  čísla celá kladná tj. čísla 1, 2, 3, 4, \(\ldots\), nula se tedy mezi přirozená čísla nezahrunuje.
  \cite[s.~7]{calda2008matematika} 
    
  \twocolumn[\section{Základní kombinatorická pravidla}\label{mai:IchapIVcsecI}]
    K řešení velké části kombinatorických úloh vystačíme s dvěma jednoduchými pravidly. Je dost
    pravděpodobné, že jsme je už sami několikrát použili, aniž nám bylo známo, že se o nějaká
    kombinatorická pravidla vůbec jedná. Vysvětlíme si je na řešení následujících (velmi snadných
    příkladů).

    %--Počet všech přirozených dvojciferných čísel------------------
    \input{../src/MAI/exam/exam094.tex}
    %---------------------------------------------------------------

    V prvním řešení příkladu je obsaženo kombinatorické pravidlo součinu:
    
    \begin{mdframed}[style=highlight] Počet všech uspořádaných \(k\)-tic, jejichž první člen lze
      vybrat \(n_1\) způsoby, druhý člen po výběru prvního členu \(n_2\) způsoby atd. až \(k\)-tý
      člen po výběru všech předcházejících členů \(n_k\) způsoby, je roven \(n_1\cdot n_2\cdots
      n_k\).
    \end{mdframed}

    Vskutku: uvedená dvojciferná čísla lze považovat za uspořádané dvojice s různými členy, protože
    první člen lze vybrat devíti způsoby a druhý (po výběru prvního) rovněž devíti způsoby, je počet
    těchto uspořádaných dvojic - tj. uvažovaných dvojciferných čísel - roven \(9\cdot9= 81\).

    Ve druhém řešení bylo použito kombinatorické pravidlo součtu:
    
    \begin{mdframed}[style=highlight] Jsou-li \(A_1\), \(A_2\), \(\cdots\), \(A_n\) konečné množiny,
      které mají po řadě \(p_1\), \(p_2\), \(\cdots\), \(p_n\) prvků, a jsou-li každé dvě
      disjunktní, pak - počet prvků množiny \(A_1 \cup A_2 \cup\cdots\cup A_n\), je roven \(p_1 +
      p_2 \cdots + p_n\).        
    \end{mdframed}

    Je jasné, že v uvedeném příkladu je \(A_1\) množina všech dvojciferných čísel s různými
    číslicemi a \(A_2\) množina všech dvojciferných čísel s týmiž číslicemi. 
    
    Jak je vidět, jsou obě pravidla téměř samozřejmá, což jim vsak neubírá na významu; pomocí nich
    odvodíme v dalších článcích některé kombinatorické vzorce. V následujícím příkladu uvidíme, jak
    kombinatorické pravidlo součinu může pomoci při rozhodování, kolikrát je vlastně daný objekt (v
    příkladu jde o trojúhelník) počítán.
  
    %--Počet všech trojúhelníků XYZ---------------------------------
    \input{../src/MAI/exam/exam095.tex}
    %---------------------------------------------------------------

    V řešení následujícího \uv{turistického} příkladu jsou použita obě uvedená pravidla. Poznáme jak?
    
    %--Turistický příklad-------------------------------------------
    \input{../src/MAI/exam/exam096.tex}
    %---------------------------------------------------------------

  \section{Variace}\label{mai:IchapIVcsecII}
    V kombinatorice se často setkáváme s \(k\)-člennými skupinami utvořenými z daných \(n\) prvků
    tak, že v nich \emph{záleží na pořadí} a žádný z daných prvků se v nich \emph{neopakuje}.
    Ptáme-li se třeba, kolika možnými způsoby může být mezi osm finalistů olympijského sprintu na
    \SI{100}{\m} rozdělena zlatá, stříbrná a bronzová medaile, ptáme se vlastně na to, kolika
    způsoby lze z daných osmi atletů utvořit uspořádanou trojici. Uspořádanou trojicí v tomto
    případě rozumíme trojici, v níž záleží na tom, kdo z jejích členů dostane zlatou, kdo stříbrnou
    a kdo bronzovou medaili. Takovéto skupiny se nazývají \textbf{variace}, přesněji \(k\)-členné
    variace z \(n\) prvků.

    \begin{mdframed}[style=highlight] \(k\)-členná variace bez opakování z \(n\) prvků je uspořádaná
      \(k\)-tice sestavená z těchto prvků tak, že každý se v ní vyskytuje nejvýše jednou.
    \end{mdframed}
    
    Pro ilustraci uveďme všechny tříčlenné variace ze čtyř prvků \(a\), \(b\), \(c\), \(d\) do
    tabulky \ref{mai:tab001}:
    \begin{table}[ht!]      %\ref{fyz:tab006}
      \centering
      \scalebox{0.8}{ 
      \begin{tabular}{cccc}
        (a, b, c)& (a, c, b)& (b, a, c)& (b, c, a) \\ 
        (c, a, b)& (c, b, a)& (a, b, d)& (a, d, b) \\ 
        (b, a, d)& (b, d, a)& (d, a, b)& (d, b, a) \\ 
        (a, c, d)& (a, d, c)& (c, a, d)& (c, d, a) \\
        (d, a, c)& (d, c, a)& (b, c, d)& (b, d, c) \\  
        (c, b, d)& (c, d, b)& (d, b, c)& (d, c, b)
      \end{tabular}}
      \caption{Tříčlenné variace ze čtyř prvků \(a\), \(b\), \(c\), \(d\)}
      \label{mai:tab001}
    \end{table}

    Určíme nyní počet všech \(k\)-členných variací bez opakování z \(n\) prvků; budeme jej značit
    symbolem \(V(k,n)\) a k jeho určení použijeme \emph{kombinatorické pravidlo součinu}.

    Mějme tedy dáno \(n\) navzájem různých prvků a přirozené číslo \(k\), \(k\leq n\). Pro výběr
    prvního členu uspořádané \(k\)-tice máme \(n\) možností, neboť zde může stát libovolný z daných
    \(n\) prvků; po jeho výběru máme pro výběr 2. členu už jen \(n - 1\) možností, neboť na tomto
    místě už nemůže být prvek, který jsme vybrali na místo první. Po výběru prvních dvou členů máme
    pro výběr 3. členu \(n - 2\) možností a tak dále, až pro výběr \(k\)-tého členu máme po výběru
    všech členů předcházejících právě \(n - (k - 1)\) možností. Schematicky to lze znázornit
    obrázkem \ref{mai:fig067}:

    \luagraphic[1]{mai_fig067.pdf}{Variace bez opakování - schématické znázornění 
                    \cite[s.~13]{calda2008matematika}}{mai:fig067}

    Podle kombinatorického pravidla součinu je počet všech těchto uspořádaných \(k\)-tic roven
    součinu \(n(n-1)(n-2)\cdots(n-(k-1)) = n(n-1)(n-2)\cdots(n - k + 1)\). Máme tedy výsledek

    \begin{mdframed}[style=highlight] Počet \(V(k,n)\) všech \(k\)-členných variací z \(n\) prvků je
      \begin{equation*}
        V(k,n) = n(n-1)(n-2)\cdots(n - k + 1)
      \end{equation*}
    \end{mdframed} 

    Vzorec pro \(V(k,n)\) si můžeme zapamatovat takto: \(V(k,n)\) je rovno součinu \(k\) přirozených
    čísel takových, že největší je rovno \(n\) a ke každké další je o jednu menší. V následujícím
    článku vyjádříme číslo \(V(k,n)\) pomocí tzv. \textbf{faktoriálu}. 

    Na otázku z úvodu tohto článku, kolika způsoby mohou být obsazeny stupně vítězů po olympijském
    finále v běhu na \SI{100}{\meter}, už tedy umíme odpovědět: počet těchto způsobů je \(V(3.8) =
    8\cdot7\cdot6=336\)

    %--Vlajky-------------------------------------------------------
    \input{../src/MAI/exam/exam099.tex}
    %---------------------------------------------------------------
  
  \section{Permutace}\label{mai:IchapIVcsecIII}
    V předcházejícím článku jsme se zabývali \(k\)-člennými variacemi z \(n\) prvků, tj.
    uspořádanými \(k\)-ticemi, v nichž se každý z daných \(n\) prvků vyskytuje nejvýše jednou; pro
    přirozená čísla \(k\), \(n\) přitom platí \(k \leq n\), neboť pro \(k > n\) nelze z daných \(n\)
    prvků utvořit žádnou uspořádanou \(k\)-tici, v níž by se žádný prvek neopakoval. V tomto článku
    se budeme zabývat uspořádanými \(n\)-ticemi sestavenými z daných \(n\) prvků, tj. případem \(k =
    n\); takovéto skupiny se nazývají \textbf{permutace} (pořadí).
    \begin{mdframed}[style=highlight] Permutace z \(n\), prvků je každá n-členná variace z těchto
      prvků.
    \end{mdframed}
    Jinak řečeno:
    \begin{mdframed}[style=highlight] Permutace z \(n\) prvků je uspořádaná \(n\)-tice sestavená z
      těchto prvků tak, že každý se v ní vyskytuje právě jednou.
    \end{mdframed}

    Pro ilustraci uveďme všechny permutace ze tří prvků \(a\), \(b\), \(c\).
    \begin{align*}
      (a,b,c)\, &, (a,c,b)\,, (b,a,c)\,, \\
      (b,c,a)\, &, (c,a,b)\,, (c,b,a).
    \end{align*}        

    Poznamenejme ještě, že každá permutace z daných \(n\) prvků určuje nějakou uspořádanou
    \(n\)-tici z těchto prvků, tj. nějaké jejich pořadí. Určit počet všech možných pořadí \(n\)
    prvků neznamená nic jiného než určit všechny permutace z těchto \(n\) prvků. 
    
    Určíme nyní počet \(P(n)\) všech permutací z \(n\) prvků; dostaneme jej evidentně tak, že do
    vzorce pro počet \(k\)-členných variací z \(n\) prvků dosadíme \(k = n\):
    \begin{equation*}
      P(n) = V(n,n) = n\cdot (n-1)\cdot(n-2)\cdot\cdots\cdot2\cdot1
    \end{equation*}
    Tento výsledek upravíme zavedením symbolu \(n!\) (čteme: \(n\) faktoriál) pro součin všech
    přirozených čísel od jedné do \(n\):
    \begin{mdframed}[style=highlight] Pro každé přirozené číslo \(n\) definujeme:
      \begin{equation*}
        n! = 1\cdot2\cdot3\cdot\cdots\cdot(n-1)\cdot n
      \end{equation*}
    \end{mdframed}

    Je užitečné si uvědomit, že je \(n! = (n-1)!\cdot n = (n-2)!\cdot(n-1)\cdot n\) atd. Tyto vztahy
    se často používají při úpravách výrazů s faktoriály. Užitím faktoriálu lze tedy výsledek, který
    jsme odvodili pro počet permutací z \(n\) prvků, vyslovit takto:
    \begin{mdframed}[style=highlight] Počet \(P(n)\) všech permutací z \(n\) prvků je
      \begin{equation*}
        P(n) = n!
      \end{equation*}
    \end{mdframed}

    Vraťme se na okamžik ke vzorci pro \(V(k,n)\), který jsme odvodili v předcházejícím článku a
    vyjádříme jej pomocí faktoriálu. Dostaneme tak, že pro všechna přirozená čísla \(n, k\), \(k<n\)
    platí
    \begin{equation*}
      V(k, n) = n\cdot(n-1)\cdot\ldots\cdot(n-k+1) 
    \end{equation*}
    což lze rozepsat jako podíl dvou faktoriálů
    \begin{gather*}
      \dfrac{n\cdot(n-1)\cdot\ldots\cdot(n-k+1)
              \cdot(n-k)\cdot(n-k-1)\cdot\ldots\cdot3\cdot2\cdot1}
                  {(n-k)\cdot(n-k-1)\cdot\ldots\cdot3\cdot2\cdot1}  
    \end{gather*}                    
    konečně dostáváme vztah \(V(k, n) = \frac{n!}{(n-k)!}\)
    \vspace{2em}
    Aby tento vzorec platil i prok \(k=n\), kdy \(V(n,n) = n!\) je nutné, aby jmenovatel zlomku
    \(\frac{n!}{(n-n)!}\) byl roven jedné.
    \begin{mdframed}[style=highlight] Definujeme
      \begin{equation*}
        0! = 1
      \end{equation*}
      Dostáváme tak, že pro všechna přirozená čísla \(n, k\),\(k<n\) platí
      \begin{equation*}
        V(k,n) = \dfrac{n!}{(n-k)!}
      \end{equation*}
    \end{mdframed}
    
    %--Parlament----------------------------------------------------
      \input{../src/MAI/exam/exam057.tex}
    %---------------------------------------------------------------

  \section{Kombinace}\label{mai:IchapIVcsecIV}
    Až dosud jsme se zabývali skupinami vybranými z daných prvků, ve kterých záleželo na pořadí, tj.
    \(k\)-ticemi uspořádanými. Nyní nám půjde o skupiny, ve kterých na pořadí nezáleží; přitom -
    stejně jako v předchozích případech - budeme požadovat, aby v těchto skupinách byl každý z
    daných \(n\) prvků nejvýše jednou, tj. aby se v nich žádný prvek neopakoval. Chceme-li například
    vědět, kolik bude sehráno utkání ve volejbalovém turnaji, jehož se zúčastní \(n\) družstev a
    který se hraje jednokolově systémem každý s každým, pak se vlastně ptáme na počet všech
    neuspořádaných dvojic takových, že v každé se každé družstvo vyskytuje nejvýše jednou; např. pro
    čtyři družstva \(A\), \(B\), \(C\), \(D\) to jsou dvojice \(\{A, B\}\), \(\{A,C\}\), \(\{A,
    D\}\), \(\{B,C\}\), \(\{B, D\}\), \(\{C, D\}\). Proč přitom jde o neuspořádané dvojice, je
    jasné: dvojice \(\{A, B\}\) představuje totéž utkání jako dvojice \(\{B, A\}\). Skupiny tohoto
    typu se nazývají kombinace, přesněji \(k\)-členné kombinace z \(n\) prvků.

    \begin{mdframed}[style=highlight] \(k\)-členná kombinace z \(n\) prvků je neuspořádaná
      \(k\)-tice sestavená z těchto prvků tak, že každý se v ní vyskytuje nejvýše jednou.
    \end{mdframed}  

    Abychom \(k\)-členné kombinace odlišili od \(k\)-členných variací, které jsme zapisovali užitím
    závorek kulatých, budeme je zapisovat pomocí množinových závorek. Vrátíme-li se ještě k
    popisovanému volejbalovému turnaji, představují uvedené dvojice výčet všech dvoučlenných
    kombinací ze čtyř prvků \(A\), \(B\), \(C\), \(D\). Všimněme si, že jde vlastně o všechny
    dvouprvkové podmnožiny množiny \(\{A, B, C, D\}\). Je zřejmé, že pojem \(k\)-členná kombinace z
    \(n\) prvků má stejný význam jako termín \(k\)-prvková podmnožina \(n\)-prvkové množiny. Můžeme
    tedy říci:

    \begin{mdframed}[style=highlight] \(k\)-členná kombinace z \(n\) prvků je \(k\)-prvková
      podmnožina množiny těmito \(n\) prvky určené.
    \end{mdframed}  

    Výhodou definice, kterou jsme uvedli jako první, je, že pojmy variace, permutace a kombinace (a
    to nejen bez opakování, které už jsme poznali, ale i s opakováním, které nás ještě čekají) jsou
    definovány „jednotně", pomocí uspořádaných, resp. neuspořádaných \(k\)-tic. Přesto však je
    užitečné obsah \uv{druhé} definice si zapamatovat.
    
    Určíme nyní počet všech \(k\)-členných kombinací z \(n\) prvků; označíme jej \(C_k(n)\) a k jeho
    určení použijeme již odvozený výsledek pro počet \(V(k,n)\) všech \(k\)-členných variací z \(n\)
    prvků.

    Mějme tedy \(n\) prvků a utvořme z nich všechny \(k\)-členné variace; tyto variace rozdělme do
    skupin tak, aby všechny variace z téže skupiny se lišily pouze pořadím jednotlivých prvků a
    každé dvě variace z různých skupin se lišily aspoň v jednom prvku. Každá taková skupina obsahuje
    k uspořádaných \(k\)-tic, neboť \(k\) prvků lze uspořádat \(k!\) způsoby. Jestliže nám však
    nebude záležet na pořadi, splyne“ všech \(k!\) uspořádaných \(k\)-tic každé skupiny v jedinou
    \(k\)-tici neuspořádanou, tj. v jedinou \(k\)-člennou kombinaci z \(n\) prvků. To však znamená,
    že počet skupin, do nichž jsme původně všechny \(k\)-členné variace rozdělili, je roven počtu
    \(k\)-členných kombinaci z daných \(n\) prvků, a protože pak v každé skupině je \(k!\) variací,
    platí
    \begin{equation*}
      V(k,n) = k!\cdot C_k(n).
    \end{equation*}

    Celý tento postup ilustruje schéma na obr.  pro tříčlenné variace ze čtyř prvků \(a\), \(b\),
    \(c\), \(d\).

    \luagraphic[1]{mai_fig071.png}{Tvorba \(k\)-členných variací a jejich rozdělení do skupin 
                  \cite[s.~26]{calda2008matematika}}{mai:fig071}
    
    Počet \(C_k(n)\) všech \(k\)-členných kombinací z \(n\) prvků je
    \begin{equation*}
      C_k(n) = \dfrac{1}{k!}\cdot V(k,n) = \dfrac{n!}{(n-k)!k!}
    \end{equation*}

    Připomeňme si, že jsme definovali \(0! = 1\), a všimněme si, že zlomek \(\frac{n!}{(n-k)!k!}\)
    má smysl nejen pro \(n\), \(k\) přirozená, , ale i pro \(n\) přirozená a \(k=0\), a dokonce i
    pro \(n = 0\), \(k = 0\); má tedy smysl pro všechna \(n\), \(k\) celá nezáporná, \(k\leq n\).
    Pro tento zlomek se používá symbol \(\binom{n}{k}\), který se čte, \uv{n nad k} a nazývá se
    \textbf{kombinační číslo}; definuje se takto:

    \begin{mdframed}[style=highlight] Pro všechna celá nezáproná čísla \(n\), \(k\), \(k\leq n\), je
      
      \begin{equation*}
        \binom{n}{k} = \dfrac{n!}{(n-k)!k!}.
      \end{equation*}  
    \end{mdframed}

    Výsledek, který jsme odvodili pro počet \(k\)-členných kombinací z \(n\) prvků, lze tedy
    formulovat následovně:
    \begin{mdframed}[style=highlight] Počet \(C_k(n)\) všech \(k\)-členných kombinací z \(n\) prvků
      je 
      \begin{equation*}
        C_k(n) = \binom{n}{k}.
      \end{equation*}  
    \end{mdframed}     
    
    Z toho, co bylo řečeno, také vyplývá, že kombinační číslo určuje počet \(k\)-prvkových podmnožin
    \(n\)-prvkové množiny.

    Všimněme si dále, že z definice kombinačního čísla dostaneme
    \begin{align*}
      \binom{n}{n-k} &= \dfrac{n!}{(n-k)![n-(n-k)]!}             \\
                      &= \dfrac{n!}{(n-k)!k!} = \binom{n}{k}.
    \end{align*}  
    Odvodili jsme tak užitečnou větu:


  \section{Variace s opakováním}\label{mai:IchapIVcsecV}
  \section{Permutace s opakováním}\label{mai:IchapIVcsecVI}
  \section{Kombinace s opakováním}\label{mai:IchapIVcsecVII}
  \section{Vlastnosti kombinačních čísel}\label{mai:IchapIVcsecVIII}
  \section{Binomická věta}\label{mai:IchapIVcsecIX}    
  
    Uvedené vlastnosti kombinačních čísel je možno ilustrovat na následujícím schématu, které se
    nazývá \textbf{Pascalův trojúhelník} \emph{(B. PASCAL, 1623-1662, francouzský filozof, matematik
    a fyzik, jeden ze zakladatelů počtu pravděpodobnosti; z fyziky známe Pascalův zákon)}.

    \begin{align*}
      \begin{array}{c} 
        \binom{0}{0}                                                                          \\
        \binom{1}{0}\quad \binom{1}{1}                                                        \\  
        \binom{2}{0}\quad \binom{2}{1}\quad \binom{2}{2}                                      \\ 
        \binom{3}{0}\quad \binom{3}{1}\quad \binom{3}{2}\quad \binom{3}{3}                    \\ 
        \binom{4}{0}\quad \binom{4}{1}\quad \binom{4}{2}\quad \binom{4}{3}\quad  \binom{4}{4} \\ 
        \hdotsfor{1}                                                                          \\
        \binom{n}{0}\; \binom{n}{1}\; \binom{n}{2}\; \cdots\; 
        \binom{n}{n-2}\; \binom{n}{n-1}\; \binom{n}{n}                                        \\ 
      \end{array}
    \end{align*} Jestliže kombinační čísla v tomto schématu vyčíslíme, dostaneme Pascalův
    trojúhelník ve tvaru:

    Všimněme si symetrického rozmístění stejných čísel vzhledem k ose souměrnosti Pascalova
    trojúhelníku. Je to způsobeno tím, že čísla \(\binom{n}{k}\) a \(\binom{n}{n-k}\), která se sobě
    rovnají, jsou stejně vzdálená od středu každého řádku.
  
  \section{Sbírka příkladů}\label{mai:IchapIVcsecX}
    \luagraphic[0.8]{mai_fig076.png}{Sbírka příkladů}{mai:fig076}
    \subsection{Počítání s faktoriály}\label{mai:IchapIVcsecXssecI}
      %--Sbírka příkladů s faktoriály---------------------------------
      \input{../src/MAI/exam/exam105.tex}
      %---------------------------------------------------------------   
    \subsection{Užití Binomické věty}\label{mai:IchapIVcsecXssecII}
      %--Sbírka příkladů užití Binomické věty-------------------------
      \input{../src/MAI/exam/exam106.tex}
      %---------------------------------------------------------------
%---------------------------------------------------------------------------------------------------