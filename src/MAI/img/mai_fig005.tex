% !TeX spellcheck = cs_CZ
%
% Pokus o zobrazení Dirichletovy funkce: \uv{dvě rovnoběžné přímky $y=0$ a $y=1$ s 
% nekonečným množstvím mezer}
% xelatex -enable-write18 -shell-escape mai_fig005.tex

\documentclass[11pt]{standalone}
\usepackage{xltxtra}
\usepackage[usenames,x11names]{xcolor}
\usepackage{tikz}
\usepackage{pgfplots}
  \pgfplotsset{compat=newest}
\usepackage{amsmath}
\usepackage{amsfonts}           % \mathbb{Q}
\usepackage{tabularx}           % \shortstack

\begin{document}
  \begin{tikzpicture}[thick,scale=0.7, every node/.style={transform shape}]
    \begin{axis}[
      xmin = -3, xmax = 3, ymin = 0, ymax = 2,  % osy
      domain = -3:3,
      restrict y to domain=0:4,
      grid = major,   % both
      grid style={line width=.1pt, draw=gray!20},
      major grid style={dashed, line width=.2pt, draw=gray!40},
      minor tick num=5,
      clip = true,
      clip mode=individual,
      axis x line = middle,
      axis y line = middle,
      xlabel={$x$},
    %  xlabel style={at=(current axis.right of origin), anchor=west},
      ylabel={$y$},
    %  ylabel style={at=(current axis.above origin), anchor=south},
      enlarge y limits={rel=0.13},
      enlarge x limits={rel=0.07},
    %  title={Dirichletova funkce}
    ]
        
        \addplot[domain=-3:3, ultra thick,samples=10,blue] {1};
        \label{plot one}
        \addplot[domain=-3:3, ultra thick,samples=10,red] {0};
        \label{plot two} 
        \node [draw,fill=white] at (rel axis cs: 0.6,0.7) {\shortstack[l]{
        \(f(x) = 
          \left\lbrace\begin{array}{l@{}l@{}}
              1 & \text{ když } x \in  \mathbb{Q}\\
              0 & \text{ když } x \in  \mathbb{R} \setminus\mathbb{Q}
          \end{array}\right.
        \)
          }
           };
      \end{axis} 
  \end{tikzpicture}
\end{document}